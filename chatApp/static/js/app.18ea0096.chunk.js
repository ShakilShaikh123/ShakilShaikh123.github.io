(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{256:function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(11),i=n.n(o),c=n(24),s=n.n(c),l=n(0),u=n.n(l),d=n(9),f=n(86),p=n(3),g=n(4),h=n(146),m=n(102),b=n(439),y=n(222),v=n(438),x=n(440);var w=n(8),O=n.n(w),E=n(10),C=n.n(E),j=n(12),S=n.n(j),R=n(13),k=n.n(R),P=n(2),T=n.n(P),I=(n(87),n(34));n(40),n(19);n(425);var z=n(250),A=n(248),D={WHITE:"#FFF",BLACK:"#000",PRIMARY:"#5FB0FF",GREY:"#B4B4B4"},H=p.a.create({messagesContainer:{height:"100%",paddingBottom:60},inputContainer:{width:"100%",height:60,position:"absolute",bottom:0,paddingVertical:10,paddingLeft:20,borderTopWidth:1,borderTopColor:D.GREY}}),B=D,W=H,M=p.a.create({container:{position:"absolute",top:0,left:0,height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}});function L(){return u.a.createElement(g.a,{style:M.container},u.a.createElement(A.a,{animating:!0,color:B.PRIMARY,size:"small"}))}var F=n(145),V=n(66),Y=n(148),_=(n(403),n(404),{MESSAGES:"messages"}),G={apiKey:"AIzaSyDvVQZRsomhEYf6qvb3F_o4vTf6tEr4tHA",authDomain:"procturadminapp.firebaseapp.com",databaseURL:"https://procturadminapp.firebaseio.com",projectId:"procturadminapp",storageBucket:"procturadminapp.appspot.com",messagingSenderId:"870450631315",appId:"1:870450631315:web:f077984786c13e62e6b366",measurementId:"G-L4R8E72NDB"},J=new(function(){function e(){O()(this,e),this.firebase=Y.initializeApp(G),this.auth=Y.auth(),this.firestore=Y.firestore(),this.messageRef=this.firestore.collection(_.MESSAGES)}return C()(e,[{key:"signIn",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(this.auth.signInAnonymously());case 3:return e=t.sent,t.abrupt("return",{user:e.user});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 10:case"end":return t.stop()}}),null,this,[[0,7]],Promise)}},{key:"fetchMessages",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(this.messageRef.orderBy("created_at","desc").limit(10).get());case 2:return e=t.sent,t.abrupt("return",e.docs);case 4:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"createMessage",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.message,n=e.uid,r.next=3,a.a.awrap(this.messageRef.add({message:t,user_id:n,created_at:new Date}));case 3:case"end":return r.stop()}}),null,this,null,Promise)}}]),e}()),K=Object(l.createContext)(null),N=n(60),U=n(85),q=p.a.create({container:{marginHorizontal:20,paddingVertical:10,paddingHorizontal:16,backgroundColor:B.PRIMARY,borderRadius:3},text:{color:B.WHITE}});function Q(e){var t=e.text,n=e.disabled,r=e.onPress;return u.a.createElement(U.a,{style:q.container,onPress:r,disabled:n},u.a.createElement(I.a,{style:q.text},t))}var Z=p.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%"},inputContainer:{width:"70%"},input:{height:40,borderColor:B.GREY,borderWidth:1,borderRadius:3,flexDirection:"row",paddingHorizontal:10}});function X(){var e=Object(l.useContext)(K).uid,t=Object(l.useState)(!1),n=s()(t,2),r=n[0],a=n[1],o=Object(l.useState)(""),i=s()(o,2),c=i[0],d=i[1],f=Object(l.useCallback)((function(){a(!0),J.createMessage({message:c,uid:e}).then((function(){a(!1),d("")}))}),[c]);return u.a.createElement(g.a,{style:Z.container},u.a.createElement(g.a,{style:Z.inputContainer},u.a.createElement(N.a,{style:Z.input,value:c,onChangeText:d,placeholder:"Write you message"})),u.a.createElement(Q,{text:"Send",onPress:f,disabled:r}),r&&u.a.createElement(L,null))}var $=p.a.create({container:{width:"100%",paddingVertical:3,paddingHorizontal:10,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},textContainer:{width:160,backgroundColor:B.GREY,borderRadius:40,paddingHorizontal:15,paddingVertical:12,marginLeft:10},rightContainer:{justifyContent:"flex-end"},rightTextContainer:{backgroundColor:B.PRIMARY,marginRight:10},leftText:{textAlign:"left"},rightText:{textAlign:"right"},text:{fontSize:12}}),ee={container:p.a.flatten([$.container,$.rightContainer]),textContainer:p.a.flatten([$.textContainer,$.rightTextContainer]),leftText:p.a.flatten([$.leftText,$.text]),rightText:p.a.flatten([$.rightText,$.text])};function te(e){var t=e.message,n="left"===e.side,r=n?$.container:ee.container,a=n?$.textContainer:ee.textContainer,o=n?ee.leftText:ee.rightText;return u.a.createElement(g.a,{style:r},u.a.createElement(g.a,{style:a},u.a.createElement(I.a,{style:o},t)))}var ne=n(249);function re(e,t){switch(t.type){case"add":return Object(ne.unionWith)(e,t.payload,(function(e,t){return e.id===t.id})).sort((function(e,t){var n=e.data();return t.data().created_at.seconds-n.created_at.seconds}));default:throw new Error("Action type is not implemented!")}}function ae(){var e=Object(l.useContext)(K).uid,t=Object(l.useReducer)(re,[]),n=s()(t,2),r=n[0],a=n[1];return Object(l.useEffect)((function(){return J.messageRef.orderBy("created_at","desc").onSnapshot((function(e){a({type:"add",payload:e.docs})}))}),[]),u.a.createElement(g.a,{style:W.messagesContainer},u.a.createElement(V.a,null,u.a.createElement(F.a,{inverted:!0,data:r,keyExtractor:function(e){return e.id},renderItem:function(t){var n=t.item.data(),r=n.user_id===e?"right":"left";return u.a.createElement(te,{side:r,message:n.message})}})),u.a.createElement(g.a,{style:W.inputContainer},u.a.createElement(X,null)))}function oe(){var e=Object(l.useState)(null),t=s()(e,2),n=t[0],r=t[1];return Object(l.useEffect)((function(){J.signIn().then((function(e){var t=e.user;e.error?z.a.alert("Something went wrong"):r(t)}))}),[]),n?u.a.createElement(K.Provider,{value:n},u.a.createElement(ae,null)):u.a.createElement(L,null)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){S()(r,e);var t,n=(t=r,function(){var e,n=T()(t);if(ce()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return k()(this,e)});function r(){return O()(this,r),n.apply(this,arguments)}return C()(r,[{key:"render",value:function(){return l.createElement(g.a,{style:{backgroundColor:"red"}},l.createElement(oe,null))}}]),r}(l.Component)).navigationOptions={header:null};p.a.create({container:{flex:1,backgroundColor:"#fff"},developmentModeText:{marginBottom:20,color:"rgba(0,0,0,0.4)",fontSize:14,lineHeight:19,textAlign:"center"},contentContainer:{paddingTop:30},welcomeContainer:{alignItems:"center",marginTop:10,marginBottom:20},welcomeImage:{width:100,height:80,resizeMode:"contain",marginTop:3,marginLeft:-10},getStartedContainer:{alignItems:"center",marginHorizontal:50},homeScreenFilename:{marginVertical:7},codeHighlightText:{color:"rgba(96,100,109, 0.8)"},codeHighlightContainer:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,color:"rgba(96,100,109, 1)",lineHeight:24,textAlign:"center"},tabBarInfoContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",bottom:0,left:0,right:0},d.a.select({ios:{shadowColor:"black",shadowOffset:{width:0,height:-3},shadowOpacity:.1,shadowRadius:3},android:{elevation:20}}),{alignItems:"center",backgroundColor:"#fbfbfb",paddingVertical:20}),tabBarInfoText:{fontSize:17,color:"rgba(96,100,109, 1)",textAlign:"center"},navigationFilename:{marginTop:5},helpContainer:{marginTop:15,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{fontSize:14,color:"#2e78b7"}});p.a.create({container:{flex:1,backgroundColor:"#fafafa"},contentContainer:{paddingTop:15},optionIconContainer:{marginRight:12},option:{backgroundColor:"#fdfdfd",paddingHorizontal:15,paddingVertical:15,borderWidth:p.a.hairlineWidth,borderBottomWidth:0,borderColor:"#ededed"},lastOption:{borderBottomWidth:p.a.hairlineWidth},optionText:{fontSize:15,alignSelf:"flex-start",marginTop:1}}),Object(x.a)();var se=n(220),le=n(224);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return pe}));var fe=Object(v.a)();function pe(e){var t=l.useState(!1),r=s()(t,2),o=r[0],i=r[1],c=l.useState(),u=s()(c,2),p=u[0],v=u[1],x=l.useRef(),w=function(e){return Object(se.a)(e,{prefixes:[le.a.makeUrl("/")],config:{Root:{path:"root",screens:{Home:"home",Links:"links",Settings:"settings"}}}})}(x).getInitialState;return l.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.a.preventAutoHide(),e.t0=v,e.next=5,a.a.awrap(w());case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,a.a.awrap(m.b(de({},b.a.font,{"space-mono":n(424)})));case 9:e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.warn(e.t2);case 14:return e.prev=14,i(!0),h.a.hide(),e.finish(14);case 18:case"end":return e.stop()}}),null,null,[[0,11,14,18]],Promise)}),[]),o||e.skipLoadingScreen?l.createElement(g.a,{style:ge.container},"ios"===d.a.OS&&l.createElement(f.a,{barStyle:"default"}),l.createElement(y.a,{ref:x,initialState:p},l.createElement(fe.Navigator,null,l.createElement(fe.Screen,{name:"Chats",component:oe})))):null}var ge=p.a.create({container:{flex:1,backgroundColor:"#fff"}})},269:function(e,t,n){n(270),e.exports=n(271)},270:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./expo-service-worker.js",{scope:"./"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},424:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[269,1,2]]]);
//# sourceMappingURL=app.18ea0096.chunk.js.map